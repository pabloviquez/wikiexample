Wiki=window.Wiki||{};Wiki.Donations={dollarAmounts:[],init:function(){Wiki.Donations.loadCurrencies();$("#donations > button").each(function(i){Wiki.Donations.dollarAmounts[i]=$(this).text();});$("#currencySelector").change(function(){Wiki.Donations.updateDonationButtons();});$("#donations > button").click(function(){amount=$(this).text();alert("Thank you for your "+amount+" donation!");});},loadCurrencies:function(){$.get("ajax/currencies.php",function(data){dropdown=$("#currencySelector");$.each(data,function(item){dropdown.append($("<option />").val(data[item]).text(data[item]));});},"json");},updateDonationButtons:function(){var currency=$("#currencySelector").val();if(currency==="USD"){$("#donations > button").each(function(i){$(this).text(Wiki.Donations.dollarAmounts[i]);});return;}$.get("ajax/conversions.php",{"currency":currency,"data":Wiki.Donations.dollarAmounts.join(":")},function(data){$("#donations > button").each(function(i){$(this).text(data[i]);});});}};$(Wiki.Donations.init);
